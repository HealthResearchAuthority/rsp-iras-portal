@using Rsp.IrasPortal.Application.Constants
@using Rsp.IrasPortal.Application.DTOs.Responses;
@using Rsp.IrasPortal.Application.DTOs.Responses.CmsContent

@section Breadcrumb {
	@await Html.PartialAsync("_Breadcrumb", new List<(string, string?)>())
}

@{
    ViewBag.Title = "System Administration";

	var pageContentData = (Dictionary<string, MixedContentPageItem?>?)ViewData[PageContentElements.PageContent];
    var pageContent = pageContentData != null
        ? pageContentData
        : new Dictionary<string, MixedContentPageItem?>();

    var headline = pageContent.GetValueOrDefault("SystemAdmin.Headline", null);
    var reviewBodyTitle = pageContent.GetValueOrDefault("SystemAdmin.ReviewBodyTitle", null);
    var reviewBodyDescription = pageContent.GetValueOrDefault("SystemAdmin.ReviewBodyDescription", null);
	var sponsorOrgTitle = pageContent.GetValueOrDefault("SystemAdmin.SponsorOrgTitle", null);
	var sponsorOrgDescription = pageContent.GetValueOrDefault("SystemAdmin.SponsorOrgDescription", null);
    var usersTitle = pageContent.GetValueOrDefault("SystemAdmin.UsersTitle", null);
    var usersDescription = pageContent.GetValueOrDefault("SystemAdmin.UsersDescription", null);
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

        <h1 class="govuk-heading-l">@Html.Raw(headline?.Value)</h1>

        <partial name="_ActionItem" model="@(reviewBodyTitle?.Value, reviewBodyDescription?.Value, "rbc:viewreviewbodies", new Dictionary<string, string>())" />
        <partial name="_ActionItem" model="@(sponsorOrgTitle?.Value, sponsorOrgDescription?.Value, "soc:viewsponsororganisations", new Dictionary<string, string>())" />
        <partial name="_ActionItem" model="@(usersTitle?.Value, usersDescription?.Value, "admin:users", new Dictionary<string, string>())" />
    </div>
</div>
