@using Rsp.IrasPortal.Application.DTOs.Responses
@using Rsp.IrasPortal.Web.TagHelpers.Models
@using Rsp.IrasPortal.Web.Controllers

@model IrasApplicationResponse

@{
    var authParams = new AuthTagHelperParams(Roles: "user");
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <h2 class="govuk-heading-l" id="title">@ViewBag.Title</h2>
    </div>
</div>

@if (Model is null)
{
    <partial name="_NoData" />

    return;
}

<dl class="govuk-summary-list">
    <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">Application Id</dt>
        <dd class="govuk-summary-list__value" id="review_title">@Model.ApplicationId</dd>
    </div>

    <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">Title</dt>
        <dd class="govuk-summary-list__value" id="review_title">@Model.Title</dd>
        <dd class="govuk-summary-list__actions">
            <a class="govuk-link" auth-params="@authParams" asp-route="app:projectname">Change</a>
        </dd>
    </div>
    <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">Description</dt>
        <dd class="govuk-summary-list__value" id="review_description">@Model.Description</dd>
        <dd class="govuk-summary-list__actions">
            <a class="govuk-link" auth-params="@authParams" asp-route="app:projectname">Change</a>
        </dd>
    </div>
    <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">Status</dt>
        <dd class="govuk-summary-list__value" id="review_status">@Model.Status</dd>
    </div>
    <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">Created By</dt>
        <dd class="govuk-summary-list__value" id="review_status">@Model.CreatedBy</dd>
    </div>
</dl>

@* <authorized auth-params="@authParams">
    <form method="post">

        <partial name="_SubmitButton" model="@("app:saveapplication","Finish and submit", new Dictionary<string, string> { { "status", "pending" } })" />

        @{
            ViewBag.Style = "ms-3 govuk-button govuk-button--secondary";
        }

        <partial name="_SubmitButton" model="@("app:savedraftapplication","Save draft", new Dictionary<string, string>() { { "status", "draft" } })" />

    </form>
</authorized> *@