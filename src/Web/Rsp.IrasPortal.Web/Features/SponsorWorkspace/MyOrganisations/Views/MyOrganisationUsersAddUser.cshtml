@using Rsp.IrasPortal.Application.Constants
@using Rsp.IrasPortal.Application.DTOs.Responses.CmsContent
@model Rsp.IrasPortal.Web.Features.SponsorWorkspace.MyOrganisations.Models.SponsorMyOrganisationUsersViewModel

@{
	ViewBag.Title = "Add a new user profile to sponsor organisation - Manage sponsor organisations - System Administration";

    var pageContentData = (Dictionary<string, MixedContentPageItem?>?)ViewData[PageContentElements.PageContent];
    var pageContent = pageContentData != null
        ? pageContentData
        : new Dictionary<string, MixedContentPageItem?>();

	var headline = pageContent.GetValueOrDefault("SponsorWorkspace.MyOrganisationUsersAddUser.Title", null);
	var body = pageContent.GetValueOrDefault("SponsorWorkspace.MyOrganisationUsersAddUser.Body", null);
	var searchTitle = pageContent.GetValueOrDefault("SponsorWorkspace.MyOrganisationUsersAddUser.SearchTitle", null);
}

@section BackNavigation {
	<partial name="_BackNavigation" model="@("sws:myorganisationusers", "Back", new Dictionary<string, string> { { "RtsId", Model.RtsId } })" />
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <partial name="_ValidationSummary" model="@(ViewData.ModelState, "There is a problem")" />
        <div class="govuk-caption-l">
            @Html.Raw(headline?.Value)
        </div>
        <h1 class="govuk-heading-l"> @Html.Raw(body?.Value) @Model.Name</h1>
    </div>
</div>

<div class="govuk-grid-row">
	<div class="govuk-grid-column-two-thirds">
        <form method="get" class="govuk-form-group">

            <label class="govuk-label">
                @Html.Raw(searchTitle?.Value) @Model.Name
            </label>
            <br/>
            
            <label class="govuk-label" for="SearchQuery">
                <b>Email</b>
            </label>

            <div class="review-body-search">
                <input class="govuk-input"
                       id="SearchQuery"
                       name="SearchQuery"
                       type="text"
                       value="@(Model.Pagination?.SearchQuery ?? string.Empty)" />
            </div>

            <input type="hidden" readonly name="RtsId" value="@Model.RtsId" />
			<br />
            @{
                ViewBag.Style = "govuk-button govuk-button--primary";
            }
            <partial name="_SubmitButton"
					 model="@("sws:myorganisationusersadduser", "Save and continue", new Dictionary<string, string>())" />

        </form>
	</div>
</div>
